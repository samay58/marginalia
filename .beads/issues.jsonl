{"id":"marg-0ca","title":"Blank window when running debug binary directly","description":"Repro: run ./src-tauri/target/debug/marginalia open file.md without Vite dev server. Root cause: debug binary targets devUrl. Fix: in debug builds, detect dev server reachability; if missing, hide window and show native dialog with instructions to run pnpm tauri dev or use release binary. Added retry loop + localhost fallbacks to avoid false positives during tauri dev startup.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-21T01:11:03.976848-08:00","updated_at":"2026-01-26T00:39:09.086964-08:00","closed_at":"2026-01-26T00:39:09.086964-08:00","close_reason":"Dev server check now retries and handles localhost variants; pnpm tauri dev no longer shows dialog, debug binary opens correctly when server is running."}
{"id":"marg-2um","title":"Polish: insertion highlights missing last character","description":"Insertion highlights sometimes miss the last character. Latest fix: when endPos mapping is null or \u003c= start, fall back to lastCharPos + 1 to capture the final character; keep exclusive end offset logic. Also tightened text map block handling (isTextblock) to reduce offset drift.","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2026-01-21T13:12:26.734453-08:00","updated_at":"2026-01-26T00:38:51.782146-08:00","comments":[{"id":4,"issue_id":"marg-2um","author":"samaydhawan","text":"Attempted fix: insertion highlight now computes end position via exclusive end offset (editedOffset + text.length) instead of lastCharPos+1, which can miss the final character at text-node boundaries. Change: src/lib/utils/milkdown-diff-plugin.js.","created_at":"2026-01-26T06:23:42Z"}]}
{"id":"marg-2ut","title":"Polish: general diff decoration smoothness","description":"Polish: general diff decoration smoothness. Added subtle transitions on added/struck highlights to reduce visual harshness; further tuning pending.","status":"in_progress","priority":3,"issue_type":"task","created_at":"2026-01-21T13:12:39.111703-08:00","updated_at":"2026-01-26T01:04:25.377793-08:00"}
{"id":"marg-350","title":"Liquid glass window treatment","description":"Add a translucent 'liquid glass' visual treatment to the window and key surfaces (editor, header, sidebar). Explore Tauri/macOS transparency (vibrancy) settings + CSS blur/backdrop for a premium feel. Ensure readability/contrast and adjust tokens/spacing as needed.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-25T23:26:27.227088-08:00","updated_at":"2026-01-25T23:26:36.99094-08:00"}
{"id":"marg-3oo","title":"Phase 5: Output - bundle generation and CLI","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-19T23:02:26.707885-08:00","updated_at":"2026-01-19T23:43:49.68102-08:00","closed_at":"2026-01-19T23:43:49.68102-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-43w","title":"Phase 4: Comments - annotation system with popovers","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-19T23:02:21.426332-08:00","updated_at":"2026-01-19T23:43:49.680557-08:00","closed_at":"2026-01-19T23:43:49.680557-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-451","title":"Diff visualization feels buggy - diagnose and fix","description":"Diff jank investigation. Latest changes: diff plugin keeps previous decorations when diff snapshot is stale; deletion widgets split into whitespace/core spans to preserve spacing; text map uses isTextblock and maps newline offsets to textblock content start; cursor line tracking uses isTextblock; gutter line count derived from edited plain text.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2026-01-21T01:47:54.204029-08:00","updated_at":"2026-01-26T00:59:33.485121-08:00"}
{"id":"marg-4f2","title":"Release pipeline for signed DMG + CLI assets","description":"Automate GitHub Releases with signed DMG and CLI assets. Ensure asset names match install.sh expectations and document signing/notarization steps.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-26T01:21:52.155446-08:00","updated_at":"2026-01-26T01:22:01.14393-08:00"}
{"id":"marg-4hg","title":"Agentic sessions cannot monitor app completion","description":"**Problem**: When Claude Code launches Marginalia via hook, there's no way to:\n1. Know when user finishes editing\n2. Wait for bundle creation\n3. Read the bundle output automatically\n\n**Current behavior**: Hook runs Marginalia with `\u0026` (background) and exits immediately. Claude moves on without the user's feedback.\n\n**Root Cause**: No blocking or polling mechanism. The `--out` flag exists but isn't used in the hook, and even then polling isn't implemented.\n\n**Proposed Fix**:\n1. Remove `\u0026` from hook - run synchronously so script blocks until app closes\n2. Use `--out /tmp/marginalia-$$.txt` to capture bundle path\n3. Hook prints bundle path to stdout for Claude to capture\n4. Or: Claude polls `~/phoenix/.marginalia/bundles/` for new entries with timestamp \u003e session start\n\n**Impact**: This is the core agentic loop bug - without it, Marginalia can't be used as an interactive co-authoring tool with Claude.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-21T01:11:20.527085-08:00","updated_at":"2026-01-25T23:12:50.011746-08:00","closed_at":"2026-01-25T23:12:50.011746-08:00","close_reason":"Fixed + verified via ./scripts/smoke-hook.sh (hook waits for app exit and outputs actionable summary path)","comments":[{"id":1,"issue_id":"marg-4hg","author":"samaydhawan","text":"Root cause update (2026-01-26): PostToolUse hook wasn\\u2019t actually launching Marginalia reliably. hooks/post-write.sh looked for ~/marginalia/target/release/marginalia, but the built binary is at ~/marginalia/src-tauri/target/release/marginalia (and marginalia is not on PATH by default). In that failure mode the hook exits 0 and Claude continues.\\n\\nFix implemented: hooks/post-write.sh now resolves repo root, prefers src-tauri/target/release/marginalia, and emits hook JSON via jq for safe escaping.\\n\\nNext verification: trigger hook on a *-draft.md write and confirm it blocks until app exits and /tmp/marginalia-$$.json contains status=reviewed and bundle_path.","created_at":"2026-01-26T06:23:26Z"}]}
{"id":"marg-4xp","title":"Bundle can be skipped/empty when diffResult isn't ready","description":"Symptoms: user makes edits or writes general notes, presses Done/Esc, but hook status indicates no changes and no bundle is generated (or summary/changelog empty).\\n\\nLikely root cause: handleDone() short-circuits on ! or diffResult.changes.length===0, even though markdown content changed (or notes exist). This can happen if original/edited plain text stores aren\\u2019t initialized yet or diffResult is stale.\\n\\nFix approach:\\n- Use hasChanges (markdown) to decide changesMade\\n- Generate bundle if changesMade || notes || annotations\\n- If diffResult missing/empty, compute a fallback diff from plain text (preferred) or markdown.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-25T22:21:56.131485-08:00","updated_at":"2026-01-25T22:32:50.094736-08:00","closed_at":"2026-01-25T22:32:50.094736-08:00","close_reason":"Fix implemented: always create bundle when changes/notes exist; fallback diff","comments":[{"id":6,"issue_id":"marg-4xp","author":"samaydhawan","text":"Implemented mitigation: handleDone now uses hasChanges + notes/annotations to decide whether to create a bundle; if diffResult is missing or empty despite edits, it computes a fallback diff from plain text (or markdown) to avoid empty/absent bundles. Change: src/routes/+page.svelte.","created_at":"2026-01-26T06:23:52Z"}]}
{"id":"marg-6h8","title":"Phase 1: Foundation - Tauri scaffold, design tokens, layout","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-19T23:01:57.184669-08:00","updated_at":"2026-01-19T23:43:49.677431-08:00","closed_at":"2026-01-19T23:43:49.677431-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-6oa","title":"Phase 6: Polish - dark mode, animations, error handling","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-19T23:02:32.179056-08:00","updated_at":"2026-01-19T23:43:49.682321-08:00","closed_at":"2026-01-19T23:43:49.682321-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-73q","title":"v0.2: Sync gutter scroll with editor","description":"Gutter scrolls independently from editor. Need to sync scroll positions so line numbers align with content when scrolling.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-19T23:46:52.267567-08:00","updated_at":"2026-01-20T11:17:50.920509-08:00","closed_at":"2026-01-20T11:17:50.920509-08:00","close_reason":"Closed"}
{"id":"marg-7il","title":"One-click installer + hook setup for Claude/agentic CLIs","description":"Design a polished distribution path: GitHub Releases (signed DMG + CLI), plus a one-command installer that downloads latest, installs app to /Applications, installs CLI to PATH, and optionally injects Claude Code hook config. Include a marginalia init/install flow to configure per-project hooks and run a smoke test.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-25T23:33:55.978376-08:00","updated_at":"2026-01-26T01:22:11.449636-08:00","closed_at":"2026-01-26T01:22:11.449636-08:00","close_reason":"Closed"}
{"id":"marg-7mw","title":"Phase 3: Diff - diff-match-patch with decorations","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-19T23:02:08.918823-08:00","updated_at":"2026-01-19T23:43:49.680084-08:00","closed_at":"2026-01-19T23:43:49.680084-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-8i1","title":"Phase 2: Editor - CodeMirror integration with custom theme","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-19T23:02:02.907739-08:00","updated_at":"2026-01-19T23:43:49.679475-08:00","closed_at":"2026-01-19T23:43:49.679475-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-95g","title":"Polish: spacing around deletion widgets","description":"Deletion widgets sometimes create awkward spacing with adjacent text (ex: space before 'be' after deleting 'would'). Investigate widget positioning/CSS. Latest fix: split deletion text into leading/core/trailing spans so only the core gets highlight, preserving natural spacing; add struck-wrapper/struck-space styles; click handler now uses closest([data-change-id]).","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-21T13:12:33.646399-08:00","updated_at":"2026-01-25T23:50:40.848549-08:00","comments":[{"id":5,"issue_id":"marg-95g","author":"samaydhawan","text":"Attempted fix: deletion widgets now preserve whitespace (white-space: pre-wrap) and multi-line deletions render as a span (inline/inline-block) instead of a block div inserted by widget decorations. Changes: src/lib/utils/milkdown-diff-plugin.js, src/lib/components/Editor.svelte.","created_at":"2026-01-26T06:23:47Z"}]}
{"id":"marg-9uc","title":"tauri build fails during DMG bundling (bundle_dmg.sh)","description":"In this environment, \n\u003e tauri-app@0.1.0 tauri /Users/samaydhawan/marginalia\n\u003e tauri build\n\n\n\u003e tauri-app@0.1.0 build /Users/samaydhawan/marginalia\n\u003e vite build\n\nvite v6.4.1 building SSR bundle for production...\ntransforming...\n✓ 223 modules transformed.\nrendering chunks...\nvite v6.4.1 building for production...\ntransforming...\n✓ 992 modules transformed.\nrendering chunks...\ncomputing gzip size...\n.svelte-kit/output/client/_app/version.json                         0.03 kB │ gzip:   0.05 kB\n.svelte-kit/output/client/.vite/manifest.json                       3.36 kB │ gzip:   0.68 kB\n.svelte-kit/output/client/_app/immutable/assets/0.Chkt9Du7.css      2.51 kB │ gzip:   1.10 kB\n.svelte-kit/output/client/_app/immutable/assets/2.CcqC01mz.css     10.10 kB │ gzip:   2.02 kB\n.svelte-kit/output/client/_app/immutable/chunks/Ca-USsw2.js         0.03 kB │ gzip:   0.05 kB\n.svelte-kit/output/client/_app/immutable/entry/start.C60sjPwv.js    0.08 kB │ gzip:   0.09 kB\n.svelte-kit/output/client/_app/immutable/nodes/0.juwypz3P.js        0.48 kB │ gzip:   0.35 kB\n.svelte-kit/output/client/_app/immutable/nodes/1.CUMtjRsK.js        1.05 kB │ gzip:   0.60 kB\n.svelte-kit/output/client/_app/immutable/chunks/CgQjqGWS.js         1.09 kB │ gzip:   0.62 kB\n.svelte-kit/output/client/_app/immutable/chunks/6SbNCBJ_.js         1.46 kB │ gzip:   0.81 kB\n.svelte-kit/output/client/_app/immutable/chunks/QawxtFGD.js         4.39 kB │ gzip:   2.02 kB\n.svelte-kit/output/client/_app/immutable/entry/app.CP5JToIl.js      5.99 kB │ gzip:   2.78 kB\n.svelte-kit/output/client/_app/immutable/chunks/BuGv2muZ.js         7.79 kB │ gzip:   3.28 kB\n.svelte-kit/output/client/_app/immutable/chunks/BQuhZ3lu.js        22.84 kB │ gzip:   9.05 kB\n.svelte-kit/output/client/_app/immutable/chunks/DddkM5Dn.js        27.37 kB │ gzip:  10.61 kB\n.svelte-kit/output/client/_app/immutable/nodes/2.D68GClQW.js      424.23 kB │ gzip: 132.37 kB\n✓ built in 2.12s\n.svelte-kit/output/server/.vite/manifest.json                           4.07 kB\n.svelte-kit/output/server/_app/immutable/assets/_layout.Chkt9Du7.css    2.51 kB\n.svelte-kit/output/server/_app/immutable/assets/_page.B5ql0HKX.css     10.08 kB\n.svelte-kit/output/server/entries/pages/_layout.js                      0.04 kB\n.svelte-kit/output/server/chunks/false.js                               0.05 kB\n.svelte-kit/output/server/entries/pages/_layout.svelte.js               0.23 kB\n.svelte-kit/output/server/internal.js                                   0.33 kB\n.svelte-kit/output/server/chunks/environment.js                         0.62 kB\n.svelte-kit/output/server/chunks/utils.js                               1.15 kB\n.svelte-kit/output/server/entries/fallbacks/error.svelte.js             1.34 kB\n.svelte-kit/output/server/chunks/utils2.js                              2.55 kB\n.svelte-kit/output/server/chunks/index2.js                              2.66 kB\n.svelte-kit/output/server/chunks/exports.js                             5.54 kB\n.svelte-kit/output/server/entries/pages/_page.svelte.js                17.81 kB\n.svelte-kit/output/server/remote-entry.js                              18.27 kB\n.svelte-kit/output/server/chunks/internal.js                           29.03 kB\n.svelte-kit/output/server/chunks/shared.js                             32.17 kB\n.svelte-kit/output/server/chunks/index.js                              38.94 kB\n.svelte-kit/output/server/chunks/context.js                            52.82 kB\n.svelte-kit/output/server/index.js                                    137.07 kB\n✓ built in 3.43s\n\nRun npm run preview to preview your production build locally.\n\n\u003e Using @sveltejs/adapter-static\n  Wrote site to \"build\"\n  ✔ done\n ELIFECYCLE  Command failed with exit code 1. compiles the release binary but fails when running bundle_dmg.sh to create the DMG.\\n\\nLikely cause: DMG bundling script runs Finder/AppleScript steps that fail in headless/sandbox contexts unless --skip-jenkins is set.\\n\\nDesired: either (a) make bundling succeed in CI/headless by setting skip flag, or (b) configure bundle targets to exclude DMG when not needed.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-25T22:23:11.22341-08:00","updated_at":"2026-01-25T22:23:11.22341-08:00","comments":[{"id":8,"issue_id":"marg-9uc","author":"samaydhawan","text":"Observed: pnpm tauri build produces a valid release binary + app bundle, but DMG bundling fails when running bundle_dmg.sh in this environment. Might require CI/headless-safe mode (skip Finder/AppleScript steps) or excluding DMG target when not needed.","created_at":"2026-01-26T06:24:03Z"}]}
{"id":"marg-ate","title":"Phase 7: Integration - Claude Code hooks and Phoenix setup","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-19T23:02:38.03484-08:00","updated_at":"2026-01-19T23:43:49.6829-08:00","closed_at":"2026-01-19T23:43:49.6829-08:00","close_reason":"v0.1 implementation complete"}
{"id":"marg-c0p","title":"Multi-line deletion widgets can corrupt line formatting","description":"Repro (from session packet): delete a line / multi-line segment, then subsequent lines (e.g., \"Regards\") end up on the same line as struck-through deletion.\\n\\nHypothesis: deletion widget renders a block-level element (div + br) inside a paragraph because it\\u2019s inserted as a widget decoration. That invalid DOM can reflow/merge lines unexpectedly.\\n\\nFix approach:\\n- Render deletion widget as a span (inline/inline-block) even for multi-line deletions\\n- Preserve newlines/spaces via CSS (white-space: pre-wrap) instead of block DOM","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-25T22:22:01.546233-08:00","updated_at":"2026-01-25T22:32:55.898114-08:00","closed_at":"2026-01-25T22:32:55.898114-08:00","close_reason":"Fix implemented: multi-line deletions render as span; preserves whitespace","comments":[{"id":7,"issue_id":"marg-c0p","author":"samaydhawan","text":"Implemented mitigation: multi-line deletions no longer create a block-level div inside the editor DOM. Deletion widget is always a span; whitespace/newlines preserved via CSS. Change: src/lib/utils/milkdown-diff-plugin.js and src/lib/components/Editor.svelte.","created_at":"2026-01-26T06:23:58Z"}]}
{"id":"marg-ccx","title":"v0.2: Implement CLI flags (--bundle-dir, --principles, --out)","description":"Spec mentions CLI flags that aren't implemented: --bundle-dir to specify output location, --principles to point to WRITING.md, --out for scripting.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T23:46:46.745603-08:00","updated_at":"2026-01-20T11:45:52.200223-08:00","closed_at":"2026-01-20T11:45:52.200223-08:00","close_reason":"Closed"}
{"id":"marg-cx4","title":"v1.5: WRITING.md integration - read and match rules","description":"Read ~/phoenix/WRITING.md for existing principles. Auto-match annotations to existing rules. Surface matched rules in summary_for_agent.md.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T23:46:29.687032-08:00","updated_at":"2026-01-20T13:37:53.236306-08:00","closed_at":"2026-01-20T13:37:53.236306-08:00","close_reason":"Closed"}
{"id":"marg-dks","title":"v0.2: Apply visual diff decorations in editor","description":"CSS classes exist (.cm-struck, .cm-added) but diff results aren't actively applied as CodeMirror decorations. Need to wire up decorations.js to Editor.svelte.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-19T23:46:35.483281-08:00","updated_at":"2026-01-20T11:17:59.709431-08:00","closed_at":"2026-01-20T11:17:59.709431-08:00","close_reason":"Closed"}
{"id":"marg-f1m","title":"v0.2: Stabilize diff widget placement during edits","description":"Repro: open sample memo, delete 'before' and edit around 'arguably/ly'. Deletion widget appears in wrong position, redline overlaps nearby text, and typing becomes unreliable. In prior runs the window closed before further edits. Goal: stabilize diff widget placement and ensure normal typing after deletions/insertions.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-20T14:41:58.392559-08:00","updated_at":"2026-01-20T22:57:43.165541-08:00","closed_at":"2026-01-20T22:57:43.165541-08:00","close_reason":"Fixed in v0.2: text verification for diff stability, file picker dialog"}
{"id":"marg-jac","title":"Implement blocking hook architecture for agentic loop","description":"**Problem**: Claude launches Marginalia and immediately moves on. No way to wait for user completion or read bundle output.\n\n**Proposed Solution (from brainstorm session 2026-01-21)**:\n\n1. Hook runs Marginalia **synchronously** (remove `\u0026` from hook)\n2. Use `--out /tmp/marginalia-$$.txt` to capture bundle path\n3. Hook reads --out file after app closes\n4. Hook prints bundle path to stdout\n5. Claude Code captures that output in tool result\n\n**Alternative approaches considered**:\n- Polling with timeout (blocks Claude, can't respond during wait)\n- fswatch on bundles directory (fragile, needs install)\n- Cooperative handoff (current workaround - user says 'done')\n\n**Key insight**: The `--out` flag already exists. The fix is making the hook blocking so the entire write→review→revise cycle happens in one tool call.\n\n**Acceptance criteria**:\n- Claude writes a draft file\n- Hook fires, Marginalia opens\n- User edits, closes app\n- Claude receives bundle path in tool output\n- Claude reads bundle and can revise","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-21T01:46:42.550721-08:00","updated_at":"2026-01-25T23:12:43.946886-08:00","closed_at":"2026-01-25T23:12:43.946886-08:00","close_reason":"Fixed + verified via ./scripts/smoke-hook.sh (hook blocks, bundle created, summary path returned)","comments":[{"id":2,"issue_id":"marg-jac","author":"samaydhawan","text":"Status (2026-01-26): the blocking + --out status file architecture is implemented in hooks/post-write.sh and the app (src/routes/+page.svelte writes JSON status to cliOutPath on Done and on close-requested). The main missing piece was the hook locating the correct runnable binary; hooks/post-write.sh now prefers src-tauri/target/release/marginalia.","created_at":"2026-01-26T06:23:31Z"},{"id":9,"issue_id":"marg-jac","author":"samaydhawan","text":"Bugfix note: hook should treat bundle presence as actionable even if no markdown edits. Updated hook logic to read summary whenever bundle_path exists (hooks/post-write.sh) and status now marks feedbackProvided (notes/annotations) so changes_made doesn't incorrectly suppress revisions.","created_at":"2026-01-26T06:51:29Z"}]}
{"id":"marg-kko","title":"v1.5: Anti-slop detection - highlight WRITING.md violations","description":"Scan original draft for WRITING.md violations before user starts editing. Highlight em-dashes, banned words, hedging phrases with visual flags in gutter.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T23:46:24.047491-08:00","updated_at":"2026-01-20T13:57:14.647427-08:00","closed_at":"2026-01-20T13:57:14.647427-08:00","close_reason":"Closed"}
{"id":"marg-nz3","title":"Multi-file context: reference pane / snippet picker","description":"User frequently needs to copy a paragraph from another email or memo while editing. Current single-file session forces context switching outside the app.\\n\\nProposed: add an optional reference pane (read-only) where user can open a second file and copy snippets.\\n\\nMVP:\\n- Cmd+Shift+O opens reference file picker\\n- Show reference in side panel (no diff), selectable text for copy\\n- Persist last 3 reference files per session (local storage)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-25T22:33:34.882208-08:00","updated_at":"2026-01-25T22:33:34.882208-08:00"}
{"id":"marg-rxz","title":"No way to open arbitrary file - launches with cached/default file","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-20T17:10:08.42716-08:00","updated_at":"2026-01-20T22:57:43.167565-08:00","closed_at":"2026-01-20T22:57:43.167565-08:00","close_reason":"Fixed in v0.2: text verification for diff stability, file picker dialog"}
{"id":"marg-se6","title":"No undo/redo - accidental edits cannot be reverted","description":"**Repro**: Delete a paragraph, try Cmd+Z to undo.\n\n**Expected**: Deletion is undone.\n**Actual**: Nothing happens.\n\n**Root Cause**: Milkdown's history plugin (`@milkdown/plugin-history`) is NOT installed. The commonmark preset doesn't include undo/redo.\n\n**Fix**:\n```bash\npnpm add @milkdown/plugin-history\n```\n\nThen in Editor.svelte:\n```javascript\nimport { history } from '@milkdown/plugin-history';\n// ...\n.use(history)\n```\n\n**User Impact**: User accidentally deleted entire paragraph during testing session and couldn't recover it.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-21T01:12:18.223079-08:00","updated_at":"2026-01-25T22:32:44.458009-08:00","closed_at":"2026-01-25T22:32:44.458009-08:00","close_reason":"Fix implemented: Milkdown history + keymap wired","comments":[{"id":3,"issue_id":"marg-se6","author":"samaydhawan","text":"Implemented undo/redo via Milkdown ProseMirror history + keymap (no new deps): src/lib/utils/milkdown-history-plugin.js, wired in src/lib/components/Editor.svelte. Needs quick manual verify: Cmd+Z undoes, Shift-Cmd+Z / Cmd+Y redo.","created_at":"2026-01-26T06:23:36Z"}]}
{"id":"marg-tld","title":"Anti-slop v2: tone + 'reads like AI' pattern lint","description":"Anti-slop v2: tone + 'reads like AI' pattern lint. Added tone matcher pack (formal openers, generic enthusiasm, reach-out cliches, corporate filler, hedging, wordy phrases, empty closings), merged with WRITING.md matchers, highlights stay active while editing, and summary_for_agent includes Tone \u0026 Slop Flags with suggestions.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-01-25T22:33:29.541278-08:00","updated_at":"2026-01-26T01:02:01.135298-08:00"}
{"id":"marg-w2i","title":"v0.2: Implement window close after bundle save","description":"Currently handleDone() logs but doesn't close the window. Need Tauri window.close() or process.exit() after successful bundle save.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T23:46:41.140668-08:00","updated_at":"2026-01-20T11:30:44.842348-08:00","closed_at":"2026-01-20T11:30:44.842348-08:00","close_reason":"Closed"}
